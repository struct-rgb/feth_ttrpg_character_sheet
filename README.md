
# Character Creator for Bradley B.'s Fire Emblem: Three Houses TTRPG

## About

This webapp serves as a character creator and virtual character sheet for Bradley B.'s homebrew TTRPG based on Fire Emblem: Three Houses.

## Building

Currently, a javascript file for the definition data must be generated by running [this python script](https://github.com/struct-rgb/feth_ttrpg_character_sheet/blob/main/build.py). The builder can then be used by opening [index.html](https://github.com/struct-rgb/feth_ttrpg_character_sheet/blob/main/index.html) in a web browser, no internet connection needed.

## Changelog

### Version 2.1.2

  * Added missing War Mage Gem equipment
  * Fixed description for Violent Gust
  * Fixed description for Telekinesis
  * Fixed Abraxas max range (reduced from 3 to 2)

### Version 2.1.1

  * Changed how Phase interacts with some player created tiles
  * Added custome weapon templates for each weapon type
  * Various small game data corrections
  * Attributes not sorted alphabetically and can filter by weapon/spell

### Version 2.1.0

This started out a fixing a few small bugs in version 2.0.0 but then I decided 
to make some improvements to small things I felt that where lacking, so eh...

#### Changes

  * Added titles to tooltips
  * Changed sorcerer to be generic to the three magic types
  * Added text to some classes specifying which class skills are choices
  * Added "||" delimiter to allow for more than one description per tooltip
  * Added "cat" keyword to allow string concatenation in the calculator
  * Added new Golden Egg, Golden Fear, and Document themes
  * Can specify custom requirements with the "Permission" keyword
  * Changed Tools > Themes tab to Tools > Configure
  * Added autosave configuration
  * Turned the checkboxes into funny buttons because I could.
  * The Hide buttons now say Show when text is hidden
  * Finished adding Blurb feature (It generates Markdown)

#### Bug Fixes

  * Minor tweaks to a number of weapons/arts/equipment/etc...
  * Fixed bug where skill validation was always failing
  * Fixed bug where macros didn't generate descriptions
  * Fixed bug where custom weapon might type wasn't saved
  * Fixed bug where budding talent would compute wrong on loading a value
  * Class requirement "pass" indicator updates with skill points
  * Added missing Tactical Art: Opening
  * Added missing Tactical Art: Battle Frenzy
  * Added missing Guile Metamagic: Special
  * Re-enabled autosave every five minutes (was off for development)

### Version 2.0.0

Version 2.0.0 was a complete overhaul to almost the entire program, and as such
version 1.19.1 character sheets and earlier are not fully compatible with it. I 
appologize for any inconvenience this causes.

#### Added

  * Prominently displayed version number
  * Prominently displayed link to github/changelog
  * Automatic reclass requirement check
  * Ability to export Version 1 autosave data
  * Manual save button to supplement autosave
  * Ability to duplicate character sheets
  * A display for reclass eligability
  * Character templates for enemy generation (in progress)
  * Maximum TP and SP calculations
  * Level up tracker and editor
  * Glossary of standard status conditions
  * Glossary of standard tile types
  * Lots and lots of tooltips

#### Removed

  * Dependancy on jinja2
  * Character name from generated macros, making them generic
  * Old critical hit calculation (newcrit is now just crit)
  * Clear character button (now just make new character)
  * Known Abilities and CombatArts (now just equip them)
  * Class Mastery options
  * Health bar
  * Homeland

#### Changed 

  * Rearranged tabs to be on the side rather than the bottom
  * Removed known abilities and arts to reflect new progression system
  * Added arts from class tab for classes that grant arts
  * Formulas for dynamic values are now shown
  * Weapon, equipment, and attribute prices are now displayed

#### Weapons

  * Weapons & Spells can now be import and exported
  * Custom Weapons & Spells can now be customized with Attributes
  
#### Calculator

  * Added "ask" keyword to generate prompts
  * Added "more" and "less" expressions for min and max
  * Added "metaif" keyword for conditional compilation
  * Added "elseif" keyword for easier chaining of conditionals
  * Added "%" binary operator for modulus
  * Added "die" binary operator to allow for die rolls
  * Added "not()" operator for easier conditionals
  * Added "sign()" operator to get sign of number
  * Added "meta()" operator for compile time computation
  * Added alias names for Roll20 variables
  * Added templates and "fill" keyword so your macros can now have macros
  * Added variable suggestions
  * Added syntax and variable explanations
  * Added syntax highlighting

#### To Do

  * Refactor to remove magic element ids
  * Fix blurb feature which is now broken
  * Make it possible to select two arts for metamagic (low priority)
  * Add character templates
  * Add battalions

### Version 1.19.1

#### Bugfixes

  * Macro builder did not account for hit, crit, etc... boosts from equipment

### Version 1.19.0

#### General

  * Added in new critical hit and critical avoid to computed stats

#### Macro Generation

  * Macro design was changed to be more compact
  * Add in Prompt generation for the Battlefield ability type
  * Some abilities were changed from Passive to Prompt
  * Add in some help text to explain how to use the macro tool
  * Added a link to a document on how the macro console works

#### Point Buy

  * Added in an experimental point buy calculator for character creation
  * Stats from point buy tab can be copied to the main sheet with a button

#### Misc

  * Added in new abilities and combat arts for Armor, Riding, and Flying
  * Added in more powerful ranged swords (knives)
  * Added Wanderer class
  * Various other small new content I forgot

### Version 1.18.0

#### Themes

  * Added the ability to change the UI theme of the builder
  * Old default appearance has become the "Classic" theme
  * Added the "Dark", "Golden Deer", and "Boneless" themes

#### Autosave

  * The builder now saves your progress to the browser every five minutes
  * I added this feature because roll20 crashes my browser a lot

### Version 1.17.0

#### Skill System 

  * Modified skill grade thresholds to suit new values
  * Added Talent, Weakness, and Budding Talent options
  * Skills now track total number of points

#### Weapons

  * Added more of the missing weapons from the base game
  * Made some previously hidden options visible again
  * Added O.B.R.'s Homebrew spells to the list

#### Misc
  * Overhauled the stat calculation system
  * Dynamic values for combat arts and spells now display correctly
  * Macros now show Def, Res, and Spd when attacking
  * Moved macro builder into a different tab
  * Added tiny calculator console into the macro tab

#### Bugfixes
  * Fixed bug where Reason Prowess was not added to Anima Magic macros
  * Fixed bug where active weapon persisted invisibly when changing character

### Version 1.16.0

  * Class mastery abilities can be automatically added with the "Master" button
  * Added a field to the sheet to keep track of gold pieces
  * Added Monster Hunter and Knight Captain classes
  * Tweaked Cleric and Thief classes
  * Fixed bug where stats, growth, and skills would stay when changing character

### Version 1.15.0

  * New tab based user inferface for features (Abilities, Combat Arts, etc...) 
  * Added in the remaining spells that were missing
  * Added in Killer weapons

### Version 1.14.0

  * Added the ability to import and edit multiple sheets at once
  * Added the ability to create new blank sheets without reloading the webpage
  * New character sheet format saves version number and active features
  * Old format can still be imported

### Version 1.13.0
  
  * Brawl skill removed from main page; Brawl abilities removed from drop down
  * Added new spells, abilties, and weapons
